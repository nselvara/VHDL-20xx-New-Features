# VHDL-2008 Feature Reference

Concise code examples demonstrating new features introduced in VHDL-2008 (IEEE Std 1076-2008), based on "VHDL-2008: Just the New Stuff" by Peter Ashenden and Jim Lewis, and IEEE P1076 working group documentation.

---

## Table of Contents

- [VHDL-2008 Feature Reference](#vhdl-2008-feature-reference)
  - [Table of Contents](#table-of-contents)
  - [1. Context Declarations](#1-context-declarations)
  - [2. Hierarchical/External Names](#2-hierarchicalexternal-names)
  - [3. Process(all)](#3-processall)
  - [4. Enhanced Bit String Literals](#4-enhanced-bit-string-literals)
  - [5. Generics on Packages](#5-generics-on-packages)
  - [6. Generic Types](#6-generic-types)
  - [7. Array and Record Operations](#7-array-and-record-operations)
  - [8. Fixed and Floating Point Packages](#8-fixed-and-floating-point-packages)
  - [9. Unconstrained Array Elements](#9-unconstrained-array-elements)
  - [10. Read-Out Ports](#10-read-out-ports)
  - [11. Enhanced Port Association](#11-enhanced-port-association)
  - [12. Simplified Sensitivity Lists](#12-simplified-sensitivity-lists)
  - [13. Force and Release](#13-force-and-release)
  - [14. Unary Reduction Operators](#14-unary-reduction-operators)
  - [15. Conditional and Selected Assignment](#15-conditional-and-selected-assignment)
  - [16. Standard Types: boolean\_vector, integer\_vector, real\_vector, time\_vector](#16-standard-types-boolean_vector-integer_vector-real_vector-time_vector)
  - [17. Enhanced Std\_Logic Operators](#17-enhanced-std_logic-operators)
  - [18. TO\_STRING and From STRING](#18-to_string-and-from-string)
  - [19. Minimum and Maximum Functions](#19-minimum-and-maximum-functions)
  - [20. Stop and Finish](#20-stop-and-finish)
  - [References](#references)
  - [License](#license)
  - [Purpose](#purpose)

---

## 1. Context Declarations

**IEEE:** [Fast Track Proposal FT16](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft16_context_unit.txt)

**Description:** Context declarations allow grouping of commonly used `library` and `use` clauses into reusable named contexts. Reduces repetitive code and makes package dependencies clearer.

**Reusable context for common libraries:**

```vhdl
-- ↓ VHDL-2008: Context declaration groups library/use clauses
context ieee_context is
  library ieee;
  use ieee.std_logic_1164.all;
  use ieee.numeric_std.all;
end context ieee_context;
-- ↑ Context declaration

-- Using the context in designs
context work.ieee_context;  -- ← VHDL-2008: Single line replaces multiple library/use

entity MyDesign is
  port (
    clk : in std_logic;
    data : in unsigned(7 downto 0)
  );
end entity;
```

---

## 2. Hierarchical/External Names

**IEEE:** [Fast Track Proposal FT07](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft07_hierarchical_references.txt), [FT32](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft32_pathname.pdf)

**Description:** External names allow direct access to signals and variables in other parts of the design hierarchy using `<<` `>>` syntax. Enables testbench access to internal signals without modifying RTL.

**Accessing signals across hierarchy:**

```vhdl
architecture testbench of tb is
begin
  -- ↓ VHDL-2008: External name references signal in another hierarchy
  alias internal_state is <<signal .tb.dut.fsm.state : state_type>>;
  alias internal_count is <<signal .tb.dut.counter.count : integer>>;
  -- ↑ External name syntax

  process
  begin
    wait until internal_state = IDLE;  -- ← VHDL-2008: Direct access to DUT internals
    report "State is IDLE, count = " & integer'image(internal_count);
    wait;
  end process;
end architecture;
```

---

## 3. Process(all)

**IEEE:** [Fast Track Proposal FT19](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft19_process_comb.txt)

**Description:** `process(all)` automatically infers sensitivity list from all signals read in the process. Eliminates incomplete sensitivity lists that cause simulation/synthesis mismatches.

**Automatic sensitivity list inference:**

```vhdl
-- VHDL-93/2002: Manual sensitivity list (error-prone)
process(a, b, c, sel)
begin
  if sel = '1' then
    y <= a and b;
  else
    y <= c;
  end if;
end process;

-- ↓ VHDL-2008: Automatic sensitivity inference
process(all)  -- ← VHDL-2008: Includes all signals read in process
begin
  if sel = '1' then
    y <= a and b;
  else
    y <= c;
  end if;
end process;
-- ↑ No manual signal list needed
```

---

## 4. Enhanced Bit String Literals

**IEEE:** [Fast Track Proposal FT09](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft09_bit_string_literal.txt)

**Description:** Extended bit string literal syntax with signed/unsigned indicators (`SX`, `UX`, `SO`, `UO`) and support for don't-care (`-`) in binary strings.

**Signed/unsigned bit strings with don't-care:**

```vhdl
signal data1 : unsigned(7 downto 0);
signal data2 : signed(15 downto 0);

-- ↓ VHDL-2008: Unsigned hex literal
data1 <= 8UX"A5";  -- ← VHDL-2008: U prefix for unsigned
-- ↑ Unsigned interpretation

-- ↓ VHDL-2008: Signed hex literal
data2 <= 16SX"F3A0";  -- ← VHDL-2008: S prefix for signed
-- ↑ Signed interpretation

-- ↓ VHDL-2008: Don't-care in binary literals
mask <= 8UB"1010----";  -- ← VHDL-2008: '-' for don't-care bits
-- ↑ Don't-care notation
```

---

## 5. Generics on Packages

**IEEE:** Package instantiation (IEEE Std 1076-2008)

**Description:** Packages can have generic parameters and must be instantiated before use. Enables parameterizable packages for reusable verification components.

**Parameterized package:**

```vhdl
-- ↓ VHDL-2008: Package with generics
package fifo_pkg is
  generic (
    WIDTH : positive;
    DEPTH : positive
  );
  -- ← VHDL-2008: Package generic parameters

  type fifo_t is protected
    procedure push(data : std_logic_vector(WIDTH-1 downto 0));
    impure function pop return std_logic_vector;
  end protected;
end package;
-- ↑ Generic package declaration

-- ↓ VHDL-2008: Package instantiation with parameters
package fifo_8x16 is new work.fifo_pkg
  generic map (
    WIDTH => 8,
    DEPTH => 16
  );
-- ↑ Package instantiation
```

---

## 6. Generic Types

**IEEE:** Data Types and Abstractions (IEEE Std 1076-2008)

**Description:** Subprograms can have generic type parameters using `type` keyword in generic clause. Enables writing type-independent algorithms.

**Type-generic subprogram:**

```vhdl
-- ↓ VHDL-2008: Generic type parameter
function maximum
  generic (type T)  -- ← VHDL-2008: Generic type
  parameter (a, b : T) return T is
begin
  if a > b then
    return a;
  else
    return b;
  end if;
end function;
-- ↑ Works with any type that supports '>'

-- Instantiation for different types
constant max_int is maximum[integer](10, 20);       -- ← VHDL-2008: Instantiate for integer
constant max_real is maximum[real](3.14, 2.71);     -- ← VHDL-2008: Instantiate for real
```

---

## 7. Array and Record Operations

**IEEE:** [Fast Track Proposal FT02](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft02_unary_reduction.txt), [FT03](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft03_array_scalar_logic_operators.txt)

**Description:** Element-wise logical operations on arrays, matching operations on records, and array/scalar operations. Simplifies vector comparisons and logical operations.

**Array logical operations:**

```vhdl
signal a, b, result : std_logic_vector(7 downto 0);

-- ↓ VHDL-2008: Element-wise array operations
result <= a and b;   -- ← VHDL-2008: Element-wise AND
result <= a or b;    -- ← VHDL-2008: Element-wise OR
result <= a xor b;   -- ← VHDL-2008: Element-wise XOR
result <= not a;     -- ← VHDL-2008: Element-wise NOT
-- ↑ No need for loops

-- ↓ VHDL-2008: Array/scalar operations
result <= a and '1';  -- ← VHDL-2008: AND with scalar (expands to all elements)
-- ↑ Scalar replicates to match array
```

---

## 8. Fixed and Floating Point Packages

**IEEE:** IEEE Std 1076-2008 Annex (new packages)

**Description:** Standard packages `ieee.fixed_pkg` and `ieee.float_pkg` for fixed-point and floating-point arithmetic. Provides synthesis-friendly numeric types.

**Fixed-point arithmetic:**

```vhdl
library ieee;
use ieee.fixed_pkg.all;

-- ↓ VHDL-2008: Fixed-point types
signal fix1 : ufixed(7 downto -8);   -- ← VHDL-2008: Unsigned fixed 8.8 format
signal fix2 : sfixed(3 downto -12);  -- ← VHDL-2008: Signed fixed 4.12 format
-- ↑ Fixed-point types

fix1 <= to_ufixed(3.14159, fix1);  -- ← VHDL-2008: Real to fixed conversion
fix2 <= fix2 + to_sfixed(1.5, fix2);  -- ← VHDL-2008: Fixed arithmetic
```

---

## 9. Unconstrained Array Elements

**IEEE:** [Fast Track Proposal FT14](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft14_composites_with_unconstrained_arrays.pdf)

**Description:** Arrays can have unconstrained array elements. Enables arrays of arrays with different dimensions per element.

**Array of unconstrained arrays:**

```vhdl
-- ↓ VHDL-2008: Array of unconstrained arrays
type matrix_t is array (natural range <>) of
  std_logic_vector;  -- ← VHDL-2008: Unconstrained element type
-- ↑ Each row can have different width

-- ↓ VHDL-2008: Constrain per element
signal irregular_matrix : matrix_t(0 to 2)(7 downto 0);  -- 3 rows, 8 bits each
signal jagged_matrix : matrix_t(0 to 2);  -- ← VHDL-2008: Rows unconstrained
-- ↑ Can assign different widths per row
```

---

## 10. Read-Out Ports

**IEEE:** [Fast Track Proposal FT12](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft12_read_out_ports.txt)

**Description:** Output ports can be read from within the entity/architecture. Eliminates need for internal signal copies of outputs.

**Reading output ports:**

```vhdl
entity counter is
  port (
    clk : in std_logic;
    count : out integer range 0 to 15
  );
end entity;

architecture rtl of counter is
begin
  process(clk)
  begin
    if rising_edge(clk) then
      -- ↓ VHDL-2008: Read output port directly
      if count = 15 then  -- ← VHDL-2008: Can read 'out' port
        count <= 0;
      else
        count <= count + 1;  -- ← VHDL-2008: Read and write output
      end if;
      -- ↑ No internal signal needed
    end if;
  end process;
end architecture;
```

---

## 11. Enhanced Port Association

**IEEE:** [Fast Track Proposal FT11](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft11_expressions_in_port_maps.txt), [FT17](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft17_composite_interface_mode.txt)

**Description:** Expressions allowed in port maps, and mode views for composite port modes (separate directions for record fields).

**Expressions in port maps:**

```vhdl
-- ↓ VHDL-2008: Expression in port map
U1: entity work.processor
  port map (
    addr => address(15 downto 0),  -- ← VHDL-2008: Slice expression
    data_in => data_bus and mask,  -- ← VHDL-2008: Logical expression
    enable => chip_select and not read_write  -- ← VHDL-2008: Boolean expression
  );
-- ↑ Expressions directly in port map
```

---

## 12. Simplified Sensitivity Lists

**IEEE:** Part of [Process(all) enhancement (FT19)](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft19_process_comb.txt)

**Description:** In addition to `process(all)`, allows leaving out sensitivity list entirely for certain process types. Related to combinational process improvements.

**Combinational process syntax:**

```vhdl
-- ↓ VHDL-2008: Simplified combinational process
process(all) is  -- ← VHDL-2008: 'all' infers sensitivity
begin
  y <= (a and b) or (c and d);
end process;
-- ↑ Automatic sensitivity list
```

---

## 13. Force and Release

**IEEE:** VHDL-2008 new statements

**Description:** `force` and `release` statements allow testbenches to override signal values and later release control. Useful for fault injection and debugging.

**Overriding signals in testbench:**

```vhdl
architecture testbench of tb is
begin
  process
  begin
    wait for 100 ns;
    -- ↓ VHDL-2008: Force signal to specific value
    dut.internal_signal <= force '1';  -- ← VHDL-2008: Override signal
    -- ↑ Force statement
    wait for 50 ns;

    -- ↓ VHDL-2008: Release forced signal
    dut.internal_signal <= release;  -- ← VHDL-2008: Return to normal operation
    -- ↑ Release statement
    wait;
  end process;
end architecture;
```

---

## 14. Unary Reduction Operators

**IEEE:** [Fast Track Proposal FT02](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft02_unary_reduction.txt)

**Description:** Unary logical operators (`and`, `or`, `xor`, `nand`, `nor`, `xnor`) perform reduction operations on vectors. Returns single bit result.

**Vector reduction:**

```vhdl
signal vec : std_logic_vector(7 downto 0);
signal parity : std_logic;
signal all_high : std_logic;

-- ↓ VHDL-2008: Unary reduction operators
parity <= xor vec;      -- ← VHDL-2008: XOR reduction (parity check)
all_high <= and vec;    -- ← VHDL-2008: AND reduction (all bits high?)
any_high <= or vec;     -- ← VHDL-2008: OR reduction (any bit high?)
-- ↑ Single-bit result from vector
```

---

## 15. Conditional and Selected Assignment

**IEEE:** [Fast Track Proposal FT10A](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft10A_nnary.pdf), [FT10B](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft10B_sequential_assignment.pdf)

**Description:** Conditional `with` expression and selected assignments outside process. Allows inline conditional logic in concurrent statements.

**Concurrent conditional assignments:**

```vhdl
-- ↓ VHDL-2008: Conditional signal assignment
output <= input1 when sel = "00" else  -- ← VHDL-2008: Conditional expression
          input2 when sel = "01" else
          input3 when sel = "10" else
          input4;
-- ↑ Concurrent conditional assignment

-- ↓ VHDL-2008: Selected signal assignment
with mode select output <=  -- ← VHDL-2008: Selected assignment
  data1 when MODE_A,
  data2 when MODE_B,
  data3 when others;
-- ↑ Concurrent selected assignment
```

---

## 16. Standard Types: boolean_vector, integer_vector, real_vector, time_vector

**IEEE:** VHDL-2008 Standard package additions

**Description:** New predefined array types in `std.standard` for common composite types. Simplifies declarations and enables array operations.

**Using standard vector types:**

```vhdl
-- ↓ VHDL-2008: Predefined vector types
signal flags : boolean_vector(3 downto 0);     -- ← VHDL-2008: Boolean array
signal coefficients : integer_vector(0 to 7);  -- ← VHDL-2008: Integer array
signal gains : real_vector(1 to 4);            -- ← VHDL-2008: Real array
signal delays : time_vector(0 to 3);           -- ← VHDL-2008: Time array
-- ↑ Standard types in std.standard

flags <= (others => true);  -- ← VHDL-2008: Array aggregate
coefficients <= (1, 2, 3, 4, 5, 6, 7, 8);  -- ← VHDL-2008: Integer vector
```

---

## 17. Enhanced Std_Logic Operators

**IEEE:** [Fast Track Proposal FT03](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft03_array_scalar_logic_operators.txt), IEEE Std 1164-2008 updates

**Description:** `std_logic_1164` package enhanced with array/scalar operations, matching operations, and `to_01` conversion variants.

**Enhanced operations:**

```vhdl
library ieee;
use ieee.std_logic_1164.all;

signal a, b : std_logic_vector(7 downto 0);
signal match : boolean;

-- ↓ VHDL-2008: Matching comparison operators
match <= a ?= b;   -- ← VHDL-2008: Matching equality (treats '-' as don't-care)
match <= a ?/= b;  -- ← VHDL-2008: Matching inequality
match <= a ?< b;   -- ← VHDL-2008: Matching less-than
-- ↑ Matching operators

-- ↓ VHDL-2008: Conversion with default value
result <= to_01(uncertain_signal, '0');  -- ← VHDL-2008: Convert to 01, default 'U' → '0'
-- ↑ Safe conversion
```

---

## 18. TO_STRING and From STRING

**IEEE:** [Fast Track Proposal FT05A](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft05A_to_string.txt)

**Description:** `TO_STRING` function for scalar and array types in standard packages. `FROM_STRING` for string parsing to types.

**String conversion functions:**

```vhdl
-- ↓ VHDL-2008: TO_STRING for various types
report "Counter = " & to_string(counter);  -- ← VHDL-2008: Integer to string
report "Value = " & to_string(slv_signal);  -- ← VHDL-2008: Vector to string
report "Flag = " & to_string(bool_flag);    -- ← VHDL-2008: Boolean to string
-- ↑ Built-in string conversion

-- ↓ VHDL-2008: String to type conversion (textio extensions)
variable value : integer;
variable L : line;
readline(input, L);
value := integer'value(L.all);  -- ← VHDL-2008: String to integer
-- ↑ Parse from string
```

---

## 19. Minimum and Maximum Functions

**IEEE:** [Fast Track Proposal FT04](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft04_min_max.txt)

**Description:** Standard `minimum` and `maximum` functions for scalar types. Works with integers, reals, time, and enumerated types.

**Min/max functions:**

```vhdl
-- ↓ VHDL-2008: Standard minimum/maximum functions
signal clipped : integer;
signal delay : time;

clipped <= maximum(input, 0);              -- ← VHDL-2008: Clip to non-negative
clipped <= minimum(input, 255);            -- ← VHDL-2008: Clip to maximum value
delay <= minimum(setup_time, hold_time);   -- ← VHDL-2008: Shortest time
-- ↑ Built-in min/max
```

---

## 20. Stop and Finish

**IEEE:** [Fast Track Proposal FT13](https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/ft13_stop_finish.txt)

**Description:** `std.env.stop` and `std.env.finish` procedures control simulation termination. `stop` pauses, `finish` terminates with exit code.

**Simulation control:**

```vhdl
library std;
use std.env.all;

process
begin
  wait for 1000 ns;
  if errors > 0 then
    report "Test FAILED with " & integer'image(errors) & " errors";
    stop(1);  -- ← VHDL-2008: Stop simulation with error code 1
  else
    report "Test PASSED";
    finish(0);  -- ← VHDL-2008: Finish simulation with success code 0
  end if;
end process;
```

---

## References

**Primary Source Book**
"[VHDL-2008: Just the New Stuff](http://ebook.pldworld.com/_ebook/FPGA／HDL/-Eng-/VHDL-2008.%20Just%20the%20New%20Stuff%20(Peter%20Ashenden,%20Jim%20Lewis).pdf)"
Authors: Peter Ashenden, Jim Lewis
Morgan & Claypool Publishers, 2008

**Standardisation Working Group**
IEEE P1076 (VHDL) Working Group:
<http://www.eda-twiki.org/cgi-bin/view.cgi/P1076/WebHome>

**Fast Track Proposals**
VHDL-200X Fast Track Proposals:
<https://www.eda-twiki.org/vhdl-200x/vhdl-200x-ft/proposals/proposals.html>

## License

- Material derived from "[VHDL-2008: Just the New Stuff](http://ebook.pldworld.com/_ebook/FPGA／HDL/-Eng-/VHDL-2008.%20Just%20the%20New%20Stuff%20(Peter%20Ashenden,%20Jim%20Lewis).pdf)": Copyright © 2008 Peter Ashenden and Jim Lewis
- This documentation and summary content: Apache License 2.0 (see [LICENSE](./LICENSE))

## Purpose

This repository does not aim to replace the original book or standards documents. It provides a curated summary of VHDL-2008 features with concise examples, with the goal of reducing search time and making key language improvements easier to find and understand.
